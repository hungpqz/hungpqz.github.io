var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,o){function s(e){try{h(i.next(e))}catch(t){o(t)}}function r(e){try{h(i["throw"](e))}catch(t){o(t)}}function h(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,r)}h((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(a)throw new TypeError("Generator is already executing.");for(;h;)try{if(a=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,o=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){h.label=n[1];break}if(6===n[0]&&h.label<s[1]){h.label=s[1],s=n;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(n);break}s[2]&&h.ops.pop(),h.trys.pop();continue}n=t.call(e,h)}catch(i){n=[6,i],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,r,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Đang vận chuyển..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){egret.lifecycle.addLifecycleListener(function(e){e.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.bgSound=new SoundBase("bg_mp3"),this.click_sound=new SoundBase("click_mp3"),this.bgSound.setLoop(0),this.createGameScene(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 2:return n.sent(),this.stage.removeChild(e),[3,4];case 3:return t=n.sent(),console.error(t),[3,4];case 4:return[2]}})})},t.prototype.createGameScene=function(){this.score=0,this.B2Scene(),1==this.bgSound.getStatus()&&this.bgSound.stop()},t.prototype.B2Scene=function(){var e=this,t=this.createBitmapByName("b2_jpg");this.addChild(t),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.bgSound.play(),e.B3Scene()},this)},t.prototype.B3Scene=function(){var e=this,t=this.createBitmapByName("b3_jpg");this.addChild(t),this.fullname=new egret.TextField,this.fullname.type=egret.TextFieldType.INPUT,this.fullname.text="Họ và Tên, Vd: Nguyễn Văn A",this.fullname.x=115,this.fullname.y=575,this.fullname.width=460,this.addChild(this.fullname),this.fullname.addEventListener(egret.FocusEvent.FOCUS_IN,function(e){("Họ và Tên, Vd: Nguyễn Văn A"==this.fullname.text||"Vui lòng nhập Họ và Tên"==this.fullname.text)&&(this.fullname.text="")},this),this.fullname.addEventListener(egret.FocusEvent.FOCUS_OUT,function(e){""==this.fullname.text&&(this.fullname.text="Họ và Tên, Vd: Nguyễn Văn A")},this);var n=this.createBitmapByName("login_btn_jpg");n.x=156,n.y=676,n.touchEnabled=!0,this.addChild(n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.click_sound.play(),"Họ và Tên, Vd: Nguyễn Văn A"==e.fullname.text||"Vui lòng nhập Họ và Tên"==e.fullname.text?(e.fullname.text="Vui lòng nhập Họ và Tên",egret.Tween.get(n).to({alpha:.4},100).to({alpha:1},100)):egret.Tween.get(n).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){e.removeChild(n),e.removeChild(t),e.removeChild(e.fullname),e.B4Scene()})},this)},t.prototype.B4Scene=function(){var e=this,t=this.createBitmapByName("b4_png"),n=new egret.TextField;n.x=0,n.y=375,n.width=640,n.textAlign="center",n.size=30,n.bold=!0,n.text="Xin chào "+this.fullname.text,this.addChild(n);var i=new SoundBase("three_mp3");i.play();var a=this.createBitmapByName("count_down_three_png"),o=this.createBitmapByName("count_down_two_png"),s=this.createBitmapByName("count_down_one_png");s.y=o.y=a.y=this.stage.stageHeight-s.height,this.addChild(s),this.addChild(o),this.addChild(a),this.addChild(t),egret.Tween.get(t).wait(1e3).call(function(){egret.Tween.get(a).to({y:100},500).call(function(){e.removeChild(a)});var t=new SoundBase("two_mp3");t.play()}).wait(1e3).call(function(){egret.Tween.get(o).to({y:100},500).call(function(){e.removeChild(o)});var t=new SoundBase("one_mp3");t.play()}).wait(1e3).call(function(){e.B5Scene()})},t.prototype.B5Scene=function(){var e=this,t=this.createBitmapByName("b7_jpg");this.addChild(t);var n=this.createBitmapByName("cont_btn_png");n.x=168,n.y=680,n.touchEnabled=!0,this.addChild(n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.click_sound.play(),egret.Tween.get(n).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){e.removeChild(t),e.removeChild(n),e.B6Scene()})},this)},t.prototype.B6Scene=function(){var e=this,t=this.createBitmapByName("b8_jpg");this.addChild(t),t.touchEnabled=!0,this.click_to_continue(),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.B7Scene()},this)},t.prototype.B7Scene=function(){var e=this,t=this.createBitmapByName("b9_jpg");this.addChild(t),t.touchEnabled=!0,this.click_to_continue(),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.B8Scene()},this)},t.prototype.B8Scene=function(){var e=this,t=this.createBitmapByName("q1_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=480,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=605,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=735,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_one_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_one_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_one_answer(3)},this)},t.prototype.add_next_step_button=function(){this.next_step_btn=this.createBitmapByName("cont_btn_png"),this.next_step_btn.touchEnabled=!0,this.next_step_btn.y=780,this.next_step_btn.x=(this.stage.width-this.next_step_btn.width)/2,this.addChild(this.next_step_btn)},t.prototype.step_one_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a1_jpg");switch(this.addChild(n),e){case 3:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r1_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_one(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r1_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_one(2)});break;case 1:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_one(3)})}},t.prototype.next_step_action_one=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var n="end_1_win_jpg";3!=e&&(n="end_1_lose_jpg");var i=t.createBitmapByName(n);i.touchEnabled=!0,t.addChild(i),t.click_to_continue(),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(i),t.B9Scene()},t)})},this)},t.prototype.B9Scene=function(){var e=this,t=this.createBitmapByName("q2_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=535,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=680,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=788,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_two_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_two_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_two_answer(3)},this)},t.prototype.step_two_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a2_jpg");switch(this.addChild(n),e){case 1:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r2_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_two(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r2_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_two(2)});break;case 3:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_two(3)})}},t.prototype.next_step_action_two=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var n="end_2_win_jpg";3!=e&&(n="end_2_lose_jpg");var i=t.createBitmapByName(n);i.touchEnabled=!0,t.addChild(i),t.click_to_continue(),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(i),t.B10Scene()},t)},t)},this)},t.prototype.B10Scene=function(){var e=this,t=this.createBitmapByName("q3_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=535,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=662,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=790,a.height=140,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_three_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_three_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_three_answer(3)},this)},t.prototype.step_three_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a3_jpg");switch(this.addChild(n),e){case 1:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r3_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_three(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r3_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_three(2)});break;case 3:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r3_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_three(3)})}},t.prototype.next_step_action_three=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var n="end_3_win_jpg";3!=e&&(n="end_3_lose_jpg");var i=t.createBitmapByName(n);i.touchEnabled=!0,t.addChild(i),t.click_to_continue(),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(i),t.B11Scene()},t)},t)},this)},t.prototype.B11Scene=function(){var e=this,t=this.createBitmapByName("q4_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=535,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=662,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=790,a.height=140,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_four_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_four_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_four_answer(3)},this)},t.prototype.step_four_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a4_jpg");switch(this.addChild(n),e){case 1:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r4_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_four(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r4_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_four(2)});break;case 3:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r4_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_four(3)})}},t.prototype.next_step_action_four=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var n="end_4_win_jpg";3!=e&&(n="end_4_lose_jpg");var i=t.createBitmapByName(n);i.touchEnabled=!0,t.addChild(i),t.click_to_continue(),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(i),t.B12Scene()},t)},t)},this)},t.prototype.B12Scene=function(){var e=this,t=this.createBitmapByName("q5_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=535,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=662,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=790,a.height=140,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_five_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_five_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_five_answer(3)},this)},t.prototype.step_five_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a5_jpg");switch(this.addChild(n),e){case 1:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r5_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_five(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r5_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_five(2)});break;case 3:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r5_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_five(3)})}},t.prototype.next_step_action_five=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var e="end_5_jpg",n=t.createBitmapByName(e);n.touchEnabled=!0,t.addChild(n),t.click_to_continue(),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(n),t.B13Scene()},t)},t)},this)},t.prototype.B13Scene=function(){var e=this,t=this.createBitmapByName("q6_jpg");this.addChild(t);var n=this.createBitmapByName("answer_btn_png");n.x=100,n.y=535,this.addChild(n),n.touchEnabled=!0;var i=this.createBitmapByName("answer_btn_png");i.x=100,i.y=662,this.addChild(i),i.touchEnabled=!0;var a=this.createBitmapByName("answer_btn_png");a.x=100,a.y=790,a.height=140,this.addChild(a),a.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_six_answer(1)},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_six_answer(2)},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.step_six_answer(3)},this)},t.prototype.step_six_answer=function(e){var t=this;console.log("Đáp án "+e);var n=this.createBitmapByName("a6_jpg");switch(this.addChild(n),e){case 1:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r6_1_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_six(1)});break;case 2:this.lose_sound(),egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r6_2_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_six(2)});break;case 3:this.win_sound(),this.score=this.score+1,egret.Tween.get(n).wait(1e3).call(function(){t.result=t.createBitmapByName("r6_jpg"),t.addChild(t.result),t.add_next_step_button(),t.next_step_action_six(3)})}},t.prototype.next_step_action_six=function(e){var t=this;this.next_step_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.click_sound.play(),egret.Tween.get(t.next_step_btn).to({alpha:.4},100).to({alpha:1},100).wait(500).call(function(){t.removeChild(t.result),t.removeChild(t.next_step_btn);var e="end_6_jpg",n=t.createBitmapByName(e);t.addChild(n),console.log("Đạt điểm số "+t.score+"/6"),t.sendPostRequest("fullname="+t.fullname.text+"&score="+t.score),t.rating()},t)},this)},t.prototype.rating=function(){var e=this,t=this.createBitmapByName("star_btn_png"),n=this.createBitmapByName("star_btn_png"),i=this.createBitmapByName("star_btn_png"),a=this.createBitmapByName("star_btn_png"),o=this.createBitmapByName("star_btn_png");t.x=86,n.x=187,i.x=280,a.x=375,o.x=470,t.y=n.y=i.y=a.y=o.y=509,t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!0,this.addChild(t),this.addChild(n),this.addChild(i),this.addChild(a),this.addChild(o),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!1;var s=e.createBitmapByName("one_star_png");s.y=496,e.addChild(s),e.sendPostRequest("fullname="+e.fullname.text+"&rating=1"),egret.Tween.get(t).wait(3e3).call(function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.removeChild(o),e.createGameScene()})},this),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!1;var s=e.createBitmapByName("two_star_png");s.y=496,e.addChild(s),e.sendPostRequest("fullname="+e.fullname.text+"&rating=2"),egret.Tween.get(n).wait(3e3).call(function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.removeChild(o),e.createGameScene()})},this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!1;var s=e.createBitmapByName("three_star_png");s.y=496,e.addChild(s),e.sendPostRequest("fullname="+e.fullname.text+"&rating=3"),egret.Tween.get(i).wait(3e3).call(function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.removeChild(o),e.createGameScene()})},this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!1;var s=e.createBitmapByName("four_star_png");s.y=496,e.addChild(s),e.sendPostRequest("fullname="+e.fullname.text+"&rating=4"),egret.Tween.get(a).wait(3e3).call(function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.removeChild(o),e.createGameScene()})},this),o.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=n.touchEnabled=i.touchEnabled=a.touchEnabled=o.touchEnabled=!1;var s=e.createBitmapByName("five_star_png");s.y=496,e.addChild(s),e.sendPostRequest("fullname="+e.fullname.text+"&rating=5"),egret.Tween.get(o).wait(3e3).call(function(){e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(a),e.removeChild(o),e.createGameScene()})},this)},t.prototype.lose_sound=function(){var e=new SoundBase("Oops_mp3");e.play()},t.prototype.win_sound=function(){var e=new SoundBase("Yeah_mp3");e.play()},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},t.prototype.sendPostRequest=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.open("https://hungpq.azfree.net/samsung_knox/server/app.php",egret.HttpMethod.POST),t.send(e),t.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),t.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},t.prototype.onPostComplete=function(e){var t=e.currentTarget;egret.log("post data : ",t.response)},t.prototype.onPostIOError=function(e){egret.log("post error : "+e)},t.prototype.onPostProgress=function(e){egret.log("post progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},t.prototype.click_to_continue=function(){var e=this,t=new egret.TextField;t.text="Chạm để tiếp tục",this.addChild(t),t.y=this.stage.height-100,t.width=this.stage.width,t.textAlign="center";var n=function(){var i=egret.Tween.get(t);i.to({alpha:1},200),i.wait(500),i.to({alpha:0},200),i.call(n,e)};n()},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var SoundBase=function(e){function t(t){var n=e.call(this)||this;return n._soundURL="start_sound",n._positon=0,n._loop=1,n._status=0,t&&(n._soundURL=t),n._sound=new egret.Sound,n._loadSound(),n}return __extends(t,e),t.prototype._loadSound=function(){RES.getRes(this._soundURL)?this._sound=RES.getRes(this._soundURL):(this._sound.once(egret.Event.COMPLETE,this.loadComplete,this),this._sound.once(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this._sound.load(this._soundURL))},t.prototype.loadComplete=function(e){this._status=3;var t="Load complete";egret.log(t),this._sound.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,t)},t.prototype.onLoadErr=function(e){this._status=4;var t="Could not load sound at "+this._soundURL;egret.log(t),this._sound.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR,!1,t)},t.prototype.setUrl=function(e){this._soundURL=e,this._loadSound()},t.prototype.looped=function(e){console.log("looped"),this._soundChannel=null,this._positon=0,this._status=0;var t="looped";this._loop>=0?this.dispatchEventWith(egret.Event.SOUND_COMPLETE,!1,t):this.play()},t.prototype.getStatus=function(){return this._status},t.prototype.setVolume=function(e){console.log(this._status),1===this._status&&(this._soundChannel.volume=e/100)},t.prototype.showPosition=function(){return 1===this._status&&(this._positon=this._soundChannel.position),this._positon},t.prototype.play=function(){return 4===this._status?void this._loadSound():(this._status=1,this._soundChannel&&this._soundChannel.stop(),this._soundChannel=this._sound.play(this._positon,this._loop),this._soundChannel.once(egret.Event.SOUND_COMPLETE,this.looped,this),this._status)},t.prototype.setLoop=function(e){return void 0===e&&(e=1),this._loop=e,e},t.prototype.pause=function(){var e=this._status;return 1===e&&(this._positon=this._soundChannel.position,this._soundChannel.stop(),this._status=2),egret.log(this._positon),e},t.prototype.resume=function(){var e=this._status;return 2===e&&this.play(),egret.log(this._positon),e},t.prototype.stop=function(){this._status=0,this._positon=0,this._soundChannel.stop(),this._soundChannel=null},t}(egret.DisplayObjectContainer);__reflect(SoundBase.prototype,"SoundBase");